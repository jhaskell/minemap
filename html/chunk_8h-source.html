<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>minemap: includes/chunk.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<h1>includes/chunk.h</h1><a href="chunk_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00006"></a>00006 <span class="preprocessor">#ifndef CHUNK_H</span>
<a name="l00007"></a>00007 <span class="preprocessor"></span><span class="preprocessor">#define CHUNK_H</span>
<a name="l00008"></a>00008 <span class="preprocessor"></span>
<a name="l00009"></a>00009 <span class="preprocessor">#include "<a class="code" href="nbt_8h.html" title="Data structures and functions for Named Binary Tag (NBT) objects.">nbt.h</a>"</span>
<a name="l00010"></a>00010 <span class="preprocessor">#include "<a class="code" href="maths_8h.html" title="Generic mathing routines.">maths.h</a>"</span>
<a name="l00011"></a>00011 
<a name="l00013"></a><a class="code" href="chunk_8h.html#1bdae46631ed1c470d4b51a8486ca4a6">00013</a> <span class="preprocessor">#define CHUNK_SIZE_X 16</span>
<a name="l00014"></a>00014 <span class="preprocessor"></span>
<a name="l00015"></a><a class="code" href="chunk_8h.html#956bd0c241b2f319177e1cffab770741">00015</a> <span class="preprocessor">#define CHUNK_SIZE_Z 16</span>
<a name="l00016"></a>00016 <span class="preprocessor"></span>
<a name="l00017"></a><a class="code" href="chunk_8h.html#f952d499e67f41f04374bdf992850c9c">00017</a> <span class="preprocessor">#define CHUNK_SIZE_AREA 256</span>
<a name="l00018"></a>00018 <span class="preprocessor"></span>
<a name="l00020"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9">00020</a> <span class="keyword">enum</span> <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9" title="Describes error codes passed by chunk_new().">chunk_new_error_codes</a>
<a name="l00021"></a>00021 {
<a name="l00022"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c90e3642eb43a3204cbaa6ee266907e667">00022</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c90e3642eb43a3204cbaa6ee266907e667" title="Everything is OK.">CHUNK_ERR_OK</a>,       
<a name="l00023"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c983af8eb7a8cb3bd927c670fc0cf6d530">00023</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c983af8eb7a8cb3bd927c670fc0cf6d530" title="Could not allocate memory.">CHUNK_ERR_OOM</a>,      
<a name="l00024"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c974a09faf5997b689a775a374d45c376f">00024</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c974a09faf5997b689a775a374d45c376f" title="Was not able to open the input file.">CHUNK_ERR_INPUT</a>,    
<a name="l00025"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c937ee8e3e1e501f89f769248340b55953">00025</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c937ee8e3e1e501f89f769248340b55953" title="Parsing the tag failed.">CHUNK_ERR_TAG</a>,      
<a name="l00026"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c927fb19a63b25a8e8a9ee9100149388c4">00026</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c927fb19a63b25a8e8a9ee9100149388c4" title="Could not read the chunk coordinates from from the input file.">CHUNK_ERR_COORDS</a>,   
<a name="l00028"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c966b979a8726a068973abc3778b90dcb4">00028</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c966b979a8726a068973abc3778b90dcb4" title="An inconsistency occured between the coords derived from the map value and the info...">CHUNK_ERR_CONSIST</a>,  
<a name="l00031"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9c92ee8cf2748ccc32233c53391558608">00031</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9c92ee8cf2748ccc32233c53391558608" title="The length of map data was not consistent and height data could not be reliably determined...">CHUNK_ERR_HEIGHT</a>,   
<a name="l00034"></a><a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9afdde49fc85cb946cfa5429160eccfa9">00034</a>     <a class="code" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9afdde49fc85cb946cfa5429160eccfa9">CHUNK_ERR_TAG_FORMAT</a>, 
<a name="l00035"></a>00035 };
<a name="l00036"></a>00036 
<a name="l00043"></a><a class="code" href="structchunk.html">00043</a> <span class="keyword">typedef</span> <span class="keyword">struct</span>
<a name="l00044"></a>00044 {
<a name="l00045"></a><a class="code" href="structchunk.html#814b6c9f6aaa9d0118f2223f83c2f604">00045</a>     <a class="code" href="structnbt__tag.html" title="Contains a single NBT tag entry.">nbt_tag</a> *data;      
<a name="l00046"></a><a class="code" href="structchunk.html#0a83029a7e6e663529322c95a940448f">00046</a>     int32_t coord_x;    
<a name="l00047"></a><a class="code" href="structchunk.html#69c40b5a695d062154c7ce7d7f9c7b42">00047</a>     int32_t coord_z;    
<a name="l00048"></a><a class="code" href="structchunk.html#4d97a54e684f473f6c130f037bee91e0">00048</a>     uint64_t height;    
<a name="l00050"></a><a class="code" href="structchunk.html#3713789caf19316ea4c5b932ec092545">00050</a>     uint8_t *blocks;        
<a name="l00051"></a><a class="code" href="structchunk.html#89a2eb8b185434a47eee539ef6503310">00051</a>     uint8_t *heightmap;     
<a name="l00052"></a><a class="code" href="structchunk.html#8f799bf2852a2cb0783f3163daa3e6db">00052</a>     uint8_t *blockdata;     
<a name="l00053"></a><a class="code" href="structchunk.html#fce0a924ca3b922dac552f66f060bf88">00053</a>     uint8_t *skylight;      
<a name="l00054"></a><a class="code" href="structchunk.html#c7bc30b65af68e5ad81f8c925e5773ba">00054</a>     uint8_t *blocklight;    
<a name="l00055"></a>00055 } <a class="code" href="structchunk.html" title="Contains data about a chunk.">chunk</a>;
<a name="l00056"></a>00056 
<a name="l00063"></a>00063 <a class="code" href="structchunk.html" title="Contains data about a chunk.">chunk</a> *<a class="code" href="chunk_8h.html#2046cbb3e8acdab8ad02546cbbed0e54" title="Reads a chunk from a file.">chunk_new</a>(<span class="keywordtype">char</span> *filepath, int32_t coord_x, int32_t coord_z);
<a name="l00064"></a>00064 
<a name="l00068"></a>00068 <span class="keywordtype">void</span> <a class="code" href="chunk_8h.html#3ec2f63fdfb5d7946eb6188091e9bea0" title="Destroy a chunk, freeing its memory.">chunk_free</a>(<span class="keywordtype">void</span> *doomed);
<a name="l00069"></a>00069 
<a name="l00077"></a>00077 <span class="keywordtype">int</span> <a class="code" href="chunk_8h.html#03ea45110967b845fe3c509e6b26940f" title="Parse a chunk&amp;#39;s filename and retrieve the coordinates from it.">chunk_get_coords_from_filename</a>(<span class="keywordtype">char</span> *filename, int32_t *x_coord, int32_t *z_coord);
<a name="l00078"></a>00078 
<a name="l00084"></a>00084 uint64_t <a class="code" href="chunk_8h.html#3bbfd653343e8d54e3ff8403acc718a4" title="Generate a 64-bit key for the chunk using its coordinates.">chunk_generate_key</a>(<a class="code" href="structchunk.html" title="Contains data about a chunk.">chunk</a> *c);
<a name="l00085"></a>00085 
<a name="l00092"></a>00092 uint64_t <a class="code" href="chunk_8h.html#456d09a77fa2de3c732fd9c7c0c04ebe" title="Generate a 64-bit key for a chunk using provided coordinates.">chunk_generate_key_from_coords</a>(int32_t coord_x, int32_t coord_z);
<a name="l00093"></a>00093 
<a name="l00100"></a>00100 uint32_t <a class="code" href="chunk_8h.html#859f05e031ec6ba684f019f96ac50d57" title="Generate a hash key for a chunk.">chunk_hash</a>(<span class="keywordtype">void</span> *_c);
<a name="l00101"></a>00101 
<a name="l00107"></a>00107 <span class="keywordtype">int</span> <a class="code" href="chunk_8h.html#070d5cd330993d497bc24fedc80a5aac" title="Determine if two chunk hash keys are equal.">chunk_key_eqfn</a>(<span class="keywordtype">void</span> *key1, <span class="keywordtype">void</span> *key2);
<a name="l00108"></a>00108 
<a name="l00126"></a>00126 int32_t <a class="code" href="chunk_8h.html#cc398833e609bea40b0766f54287b8a9" title="Generates an array offset for the 8-bit per block data arrays.">chunk_generate_8bit_offset</a>(<a class="code" href="structchunk.html" title="Contains data about a chunk.">chunk</a> *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset);
<a name="l00127"></a>00127 
<a name="l00145"></a>00145 int32_t <a class="code" href="chunk_8h.html#b107be9821f91addf93b6e21007708fd" title="Generates an array offset for the 4-bit per block data arrays.">chunk_generate_4bit_offset</a>(<a class="code" href="structchunk.html" title="Contains data about a chunk.">chunk</a> *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset);
<a name="l00146"></a>00146 
<a name="l00147"></a>00147 <span class="preprocessor">#endif</span>
</pre></div></div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 8 12:28:22 2010 for minemap by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
