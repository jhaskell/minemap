<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>minemap: includes/hashtable.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>includes/hashtable.h File Reference</h1>Implementation of a hash table.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="hashtable__private_8h-source.html">hashtable_private.h</a>&quot;</code><br>

<p>
<a href="hashtable_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#0129c9f37aa20931a2c54a337af06161">create_hashtable</a> (unsigned int minsize, unsigned int(*hashfunction)(void *), int(*key_eq_fn)(void *, void *), void(*vff)(void *))</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">create_hashtable  <a href="#0129c9f37aa20931a2c54a337af06161"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#05bc9b9456318d1018d17729894a7b45">hashtable_insert</a> (struct <a class="el" href="structhashtable.html">hashtable</a> *h, void *k, void *v)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">hashtable_insert  <a href="#05bc9b9456318d1018d17729894a7b45"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#edee8784569397cb9f42a46055c959d0">hashtable_search</a> (struct <a class="el" href="structhashtable.html">hashtable</a> *h, void *k)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">hashtable_search  <a href="#edee8784569397cb9f42a46055c959d0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#d5218c8af6f68f926ae0e2f6b9d89143">hashtable_remove</a> (struct <a class="el" href="structhashtable.html">hashtable</a> *h, void *k)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">hashtable_remove  <a href="#d5218c8af6f68f926ae0e2f6b9d89143"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">unsigned int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#9938119d6ca963d593ead701bb9d5add">hashtable_count</a> (struct <a class="el" href="structhashtable.html">hashtable</a> *h)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">hashtable_count  <a href="#9938119d6ca963d593ead701bb9d5add"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="hashtable_8h.html#3e50020eb23b7deeaf64eb1c52405dd0">hashtable_destroy</a> (struct <a class="el" href="structhashtable.html">hashtable</a> *h, int free_values)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">hashtable_destroy  <a href="#3e50020eb23b7deeaf64eb1c52405dd0"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Implementation of a hash table. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Christopher Clark &lt;<a href="mailto:christopher.clark@cl.cam.ac.uk">christopher.clark@cl.cam.ac.uk</a>&gt; </dd></dl>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0129c9f37aa20931a2c54a337af06161"></a><!-- doxytag: member="hashtable.h::create_hashtable" ref="0129c9f37aa20931a2c54a337af06161" args="(unsigned int minsize, unsigned int(*hashfunction)(void *), int(*key_eq_fn)(void *, void *), void(*vff)(void *))" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">struct <a class="el" href="structhashtable.html">hashtable</a>* create_hashtable           </td>
          <td>(</td>
          <td class="paramtype">unsigned int&nbsp;</td>
          <td class="paramname"> <em>minsize</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>hashfunction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int(*)(void *, void *)&nbsp;</td>
          <td class="paramname"> <em>key_eq_fn</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void(*)(void *)&nbsp;</td>
          <td class="paramname"> <em>vff</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td><code> [read]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
create_hashtable 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>minsize</em>&nbsp;</td><td>minimum initial size of <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hashfunction</em>&nbsp;</td><td>function for hashing keys </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key_eq_fn</em>&nbsp;</td><td>function for determining key equality </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>vff</em>&nbsp;</td><td>function for freeing the hash value </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>newly created <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> or NULL on failure </dd></dl>

</div>
</div><p>
<a class="anchor" name="9938119d6ca963d593ead701bb9d5add"></a><!-- doxytag: member="hashtable.h::hashtable_count" ref="9938119d6ca963d593ead701bb9d5add" args="(struct hashtable *h)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">unsigned int hashtable_count           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hashtable_count 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the number of items stored in the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> </dd></dl>

</div>
</div><p>
<a class="anchor" name="3e50020eb23b7deeaf64eb1c52405dd0"></a><!-- doxytag: member="hashtable.h::hashtable_destroy" ref="3e50020eb23b7deeaf64eb1c52405dd0" args="(struct hashtable *h, int free_values)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void hashtable_destroy           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&nbsp;</td>
          <td class="paramname"> <em>free_values</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hashtable_destroy 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>free_values</em>&nbsp;</td><td>Whether or not to free hash bucket values </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="05bc9b9456318d1018d17729894a7b45"></a><!-- doxytag: member="hashtable.h::hashtable_insert" ref="05bc9b9456318d1018d17729894a7b45" args="(struct hashtable *h, void *k, void *v)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int hashtable_insert           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>k</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>v</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hashtable_insert 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> to insert into </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the key - <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> claims ownership and will free on removal </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>v</em>&nbsp;</td><td>the value - does not claim ownership </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>non-zero for successful insertion</dd></dl>
This function will cause the table to expand if the insertion would take the ratio of entries to table size over the maximum load factor.<p>
This function does not check for repeated insertions with a duplicate key. The value returned when using a duplicate key is undefined -- when the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> changes size, the order of retrieval of duplicate key entries is reversed. If in doubt, remove before insert. 
</div>
</div><p>
<a class="anchor" name="d5218c8af6f68f926ae0e2f6b9d89143"></a><!-- doxytag: member="hashtable.h::hashtable_remove" ref="d5218c8af6f68f926ae0e2f6b9d89143" args="(struct hashtable *h, void *k)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hashtable_remove           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>k</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hashtable_remove 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> to remove the item from </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the key to search for - does not claim ownership </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the value associated with the key, or NULL if none found </dd></dl>

</div>
</div><p>
<a class="anchor" name="edee8784569397cb9f42a46055c959d0"></a><!-- doxytag: member="hashtable.h::hashtable_search" ref="edee8784569397cb9f42a46055c959d0" args="(struct hashtable *h, void *k)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void* hashtable_search           </td>
          <td>(</td>
          <td class="paramtype">struct <a class="el" href="structhashtable.html">hashtable</a> *&nbsp;</td>
          <td class="paramname"> <em>h</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>k</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
hashtable_search 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>h</em>&nbsp;</td><td>the <a class="el" href="structhashtable.html" title="A hashtable.">hashtable</a> to search </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>k</em>&nbsp;</td><td>the key to search for - does not claim ownership </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>the value associated with the key, or NULL if none found </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 8 12:28:22 2010 for minemap by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
