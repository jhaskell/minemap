<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>minemap: includes/chunk.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>includes/chunk.h File Reference</h1>Structures to represent and functions to manipulate chunks of map data in Minecraft.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="nbt_8h-source.html">nbt.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="maths_8h-source.html">maths.h</a>&quot;</code><br>

<p>
<a href="chunk_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structchunk.html">chunk</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Contains data about a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>.  <a href="structchunk.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="1bdae46631ed1c470d4b51a8486ca4a6"></a><!-- doxytag: member="chunk.h::CHUNK_SIZE_X" ref="1bdae46631ed1c470d4b51a8486ca4a6" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#1bdae46631ed1c470d4b51a8486ca4a6">CHUNK_SIZE_X</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The length of a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> along the X axis, in blocks. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="956bd0c241b2f319177e1cffab770741"></a><!-- doxytag: member="chunk.h::CHUNK_SIZE_Z" ref="956bd0c241b2f319177e1cffab770741" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#956bd0c241b2f319177e1cffab770741">CHUNK_SIZE_Z</a>&nbsp;&nbsp;&nbsp;16</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The length of a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> along the Z axis, in blocks. <br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="f952d499e67f41f04374bdf992850c9c"></a><!-- doxytag: member="chunk.h::CHUNK_SIZE_AREA" ref="f952d499e67f41f04374bdf992850c9c" args="" -->
#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#f952d499e67f41f04374bdf992850c9c">CHUNK_SIZE_AREA</a>&nbsp;&nbsp;&nbsp;256</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">The area of a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> along the XZ plane, in blocks. <br></td></tr>
<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9">chunk_new_error_codes</a> { <br>
&nbsp;&nbsp;<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c90e3642eb43a3204cbaa6ee266907e667">CHUNK_ERR_OK</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c983af8eb7a8cb3bd927c670fc0cf6d530">CHUNK_ERR_OOM</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c974a09faf5997b689a775a374d45c376f">CHUNK_ERR_INPUT</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c937ee8e3e1e501f89f769248340b55953">CHUNK_ERR_TAG</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c927fb19a63b25a8e8a9ee9100149388c4">CHUNK_ERR_COORDS</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c966b979a8726a068973abc3778b90dcb4">CHUNK_ERR_CONSIST</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9c92ee8cf2748ccc32233c53391558608">CHUNK_ERR_HEIGHT</a>, 
<a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9afdde49fc85cb946cfa5429160eccfa9">CHUNK_ERR_TAG_FORMAT</a>
<br>
 }</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Describes error codes passed by <a class="el" href="chunk_8h.html#2046cbb3e8acdab8ad02546cbbed0e54" title="Reads a chunk from a file.">chunk_new()</a>.  <a href="chunk_8h.html#cc6675052d273bce39571f756189e0c9">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="structchunk.html">chunk</a> *&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#2046cbb3e8acdab8ad02546cbbed0e54">chunk_new</a> (char *filepath, int32_t coord_x, int32_t coord_z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Reads a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> from a file.  <a href="#2046cbb3e8acdab8ad02546cbbed0e54"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#3ec2f63fdfb5d7946eb6188091e9bea0">chunk_free</a> (void *doomed)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Destroy a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>, freeing its memory.  <a href="#3ec2f63fdfb5d7946eb6188091e9bea0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#03ea45110967b845fe3c509e6b26940f">chunk_get_coords_from_filename</a> (char *filename, int32_t *x_coord, int32_t *z_coord)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Parse a chunk's filename and retrieve the coordinates from it.  <a href="#03ea45110967b845fe3c509e6b26940f"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#3bbfd653343e8d54e3ff8403acc718a4">chunk_generate_key</a> (<a class="el" href="structchunk.html">chunk</a> *c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a 64-bit key for the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> using its coordinates.  <a href="#3bbfd653343e8d54e3ff8403acc718a4"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint64_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#456d09a77fa2de3c732fd9c7c0c04ebe">chunk_generate_key_from_coords</a> (int32_t coord_x, int32_t coord_z)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a 64-bit key for a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> using provided coordinates.  <a href="#456d09a77fa2de3c732fd9c7c0c04ebe"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#859f05e031ec6ba684f019f96ac50d57">chunk_hash</a> (void *_c)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generate a hash key for a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>.  <a href="#859f05e031ec6ba684f019f96ac50d57"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#070d5cd330993d497bc24fedc80a5aac">chunk_key_eqfn</a> (void *key1, void *key2)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Determine if two <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> hash keys are equal.  <a href="#070d5cd330993d497bc24fedc80a5aac"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#cc398833e609bea40b0766f54287b8a9">chunk_generate_8bit_offset</a> (<a class="el" href="structchunk.html">chunk</a> *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates an array offset for the 8-bit per block data arrays.  <a href="#cc398833e609bea40b0766f54287b8a9"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">int32_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="chunk_8h.html#b107be9821f91addf93b6e21007708fd">chunk_generate_4bit_offset</a> (<a class="el" href="structchunk.html">chunk</a> *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Generates an array offset for the 4-bit per block data arrays.  <a href="#b107be9821f91addf93b6e21007708fd"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Structures to represent and functions to manipulate chunks of map data in Minecraft. 
<p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="cc6675052d273bce39571f756189e0c9"></a><!-- doxytag: member="chunk.h::chunk_new_error_codes" ref="cc6675052d273bce39571f756189e0c9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="chunk_8h.html#cc6675052d273bce39571f756189e0c9">chunk_new_error_codes</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Describes error codes passed by <a class="el" href="chunk_8h.html#2046cbb3e8acdab8ad02546cbbed0e54" title="Reads a chunk from a file.">chunk_new()</a>. 
<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c90e3642eb43a3204cbaa6ee266907e667"></a><!-- doxytag: member="CHUNK_ERR_OK" ref="cc6675052d273bce39571f756189e0c90e3642eb43a3204cbaa6ee266907e667" args="" -->CHUNK_ERR_OK</em>&nbsp;</td><td>
Everything is OK. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c983af8eb7a8cb3bd927c670fc0cf6d530"></a><!-- doxytag: member="CHUNK_ERR_OOM" ref="cc6675052d273bce39571f756189e0c983af8eb7a8cb3bd927c670fc0cf6d530" args="" -->CHUNK_ERR_OOM</em>&nbsp;</td><td>
Could not allocate memory. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c974a09faf5997b689a775a374d45c376f"></a><!-- doxytag: member="CHUNK_ERR_INPUT" ref="cc6675052d273bce39571f756189e0c974a09faf5997b689a775a374d45c376f" args="" -->CHUNK_ERR_INPUT</em>&nbsp;</td><td>
Was not able to open the input file. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c937ee8e3e1e501f89f769248340b55953"></a><!-- doxytag: member="CHUNK_ERR_TAG" ref="cc6675052d273bce39571f756189e0c937ee8e3e1e501f89f769248340b55953" args="" -->CHUNK_ERR_TAG</em>&nbsp;</td><td>
Parsing the tag failed. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c927fb19a63b25a8e8a9ee9100149388c4"></a><!-- doxytag: member="CHUNK_ERR_COORDS" ref="cc6675052d273bce39571f756189e0c927fb19a63b25a8e8a9ee9100149388c4" args="" -->CHUNK_ERR_COORDS</em>&nbsp;</td><td>
Could not read the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> coordinates from from the input file. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c966b979a8726a068973abc3778b90dcb4"></a><!-- doxytag: member="CHUNK_ERR_CONSIST" ref="cc6675052d273bce39571f756189e0c966b979a8726a068973abc3778b90dcb4" args="" -->CHUNK_ERR_CONSIST</em>&nbsp;</td><td>
An inconsistency occured between the coords derived from the map value and the info in the tag. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c9c92ee8cf2748ccc32233c53391558608"></a><!-- doxytag: member="CHUNK_ERR_HEIGHT" ref="cc6675052d273bce39571f756189e0c9c92ee8cf2748ccc32233c53391558608" args="" -->CHUNK_ERR_HEIGHT</em>&nbsp;</td><td>
The length of map data was not consistent and height data could not be reliably determined. </td></tr>
<tr><td valign="top"><em><a class="anchor" name="cc6675052d273bce39571f756189e0c9afdde49fc85cb946cfa5429160eccfa9"></a><!-- doxytag: member="CHUNK_ERR_TAG_FORMAT" ref="cc6675052d273bce39571f756189e0c9afdde49fc85cb946cfa5429160eccfa9" args="" -->CHUNK_ERR_TAG_FORMAT</em>&nbsp;</td><td>
The format of the tag was incorrect. </td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="3ec2f63fdfb5d7946eb6188091e9bea0"></a><!-- doxytag: member="chunk.h::chunk_free" ref="3ec2f63fdfb5d7946eb6188091e9bea0" args="(void *doomed)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void chunk_free           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>doomed</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Destroy a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>, freeing its memory. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>doomed</em>&nbsp;</td><td>The <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> to destroy </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b107be9821f91addf93b6e21007708fd"></a><!-- doxytag: member="chunk.h::chunk_generate_4bit_offset" ref="b107be9821f91addf93b6e21007708fd" args="(chunk *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t chunk_generate_4bit_offset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structchunk.html">chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>max_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates an array offset for the 4-bit per block data arrays. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>The <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> with the data array requested </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_x</em>&nbsp;</td><td>The X coordinate (north-south) of the block requested, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-15) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_y</em>&nbsp;</td><td>The Y coordinate (altitude) of the requested block, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-chunk.height) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_z</em>&nbsp;</td><td>The Z coordinate (east-west) of the requested block, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-15) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_offset</em>&nbsp;</td><td>The maximum value that the offset could be (typically the size of the TAG_Byte_Array being queried) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A relative address which corresponds to the location of the block requested, or -1 on error. </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Passing 0 for the Y coordinate will give you an offset corresponding to the start of a column of map data, which you can then iterate over manually in your routine. X and Z coordinates do not work this way. </dd></dl>

</div>
</div><p>
<a class="anchor" name="cc398833e609bea40b0766f54287b8a9"></a><!-- doxytag: member="chunk.h::chunk_generate_8bit_offset" ref="cc398833e609bea40b0766f54287b8a9" args="(chunk *c, uint8_t coord_x, uint8_t coord_y, uint8_t coord_z, uint32_t max_offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int32_t chunk_generate_8bit_offset           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structchunk.html">chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_y</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>coord_z</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">uint32_t&nbsp;</td>
          <td class="paramname"> <em>max_offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generates an array offset for the 8-bit per block data arrays. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>The <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> with the data array requested </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_x</em>&nbsp;</td><td>The X coordinate (north-south) of the block requested, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-15) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_y</em>&nbsp;</td><td>The Y coordinate (altitude) of the requested block, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-chunk.height) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_z</em>&nbsp;</td><td>The Z coordinate (east-west) of the requested block, local to the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> (0-15) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>max_offset</em>&nbsp;</td><td>The maximum value that the offset could be (typically the size of the TAG_Byte_Array being queried) </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A relative address which corresponds to the location of the block requested, or -1 on error. </dd></dl>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Passing 0 for the Y coordinate will give you an offset corresponding to the start of a column of map data, which you can then iterate over manually in your routine. X and Z coordinates do not work this way. </dd></dl>

</div>
</div><p>
<a class="anchor" name="3bbfd653343e8d54e3ff8403acc718a4"></a><!-- doxytag: member="chunk.h::chunk_generate_key" ref="3bbfd653343e8d54e3ff8403acc718a4" args="(chunk *c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t chunk_generate_key           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structchunk.html">chunk</a> *&nbsp;</td>
          <td class="paramname"> <em>c</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a 64-bit key for the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> using its coordinates. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>c</em>&nbsp;</td><td>A <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A 64-bit key, with the most significant 32 bits as the x coordinate and the least significant 32 bits as the z coordinate </dd></dl>

</div>
</div><p>
<a class="anchor" name="456d09a77fa2de3c732fd9c7c0c04ebe"></a><!-- doxytag: member="chunk.h::chunk_generate_key_from_coords" ref="456d09a77fa2de3c732fd9c7c0c04ebe" args="(int32_t coord_x, int32_t coord_z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint64_t chunk_generate_key_from_coords           </td>
          <td>(</td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>coord_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>coord_z</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a 64-bit key for a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> using provided coordinates. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>coord_x</em>&nbsp;</td><td>A 32-bit X coordinate </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_z</em>&nbsp;</td><td>A 32-bit Z coordinate </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A 64-bit key, with the most significant 32 bits as the x coordinate and the least significant 32 bits as the z coordinate </dd></dl>

</div>
</div><p>
<a class="anchor" name="03ea45110967b845fe3c509e6b26940f"></a><!-- doxytag: member="chunk.h::chunk_get_coords_from_filename" ref="03ea45110967b845fe3c509e6b26940f" args="(char *filename, int32_t *x_coord, int32_t *z_coord)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int chunk_get_coords_from_filename           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filename</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&nbsp;</td>
          <td class="paramname"> <em>x_coord</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t *&nbsp;</td>
          <td class="paramname"> <em>z_coord</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Parse a chunk's filename and retrieve the coordinates from it. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filename</em>&nbsp;</td><td>The filename of the <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> to parse </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>x_coord</em>&nbsp;</td><td>A pointer to an integer to store the x coord </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>z_coord</em>&nbsp;</td><td>A pointer to an integer to store the z coord </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>0 on success, -1 if an error occurs. The values of x_coord and z_coord are undefined if an error occurs. </dd></dl>

</div>
</div><p>
<a class="anchor" name="859f05e031ec6ba684f019f96ac50d57"></a><!-- doxytag: member="chunk.h::chunk_hash" ref="859f05e031ec6ba684f019f96ac50d57" args="(void *_c)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t chunk_hash           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>_c</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Generate a hash key for a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>_c</em>&nbsp;</td><td>A <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A 32-bit hash value.</dd></dl>
Shamelessly taken from <a href="http://www.concentric.net/~Ttwang/tech/inthash.htm.">http://www.concentric.net/~Ttwang/tech/inthash.htm.</a> 
</div>
</div><p>
<a class="anchor" name="070d5cd330993d497bc24fedc80a5aac"></a><!-- doxytag: member="chunk.h::chunk_key_eqfn" ref="070d5cd330993d497bc24fedc80a5aac" args="(void *key1, void *key2)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int chunk_key_eqfn           </td>
          <td>(</td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">void *&nbsp;</td>
          <td class="paramname"> <em>key2</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Determine if two <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> hash keys are equal. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>key1</em>&nbsp;</td><td>A pointer to the first uint64_t key </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>key2</em>&nbsp;</td><td>A pointer to the second uint64_t key </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if the keys are equal, 0 if they are not </dd></dl>

</div>
</div><p>
<a class="anchor" name="2046cbb3e8acdab8ad02546cbbed0e54"></a><!-- doxytag: member="chunk.h::chunk_new" ref="2046cbb3e8acdab8ad02546cbbed0e54" args="(char *filepath, int32_t coord_x, int32_t coord_z)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structchunk.html">chunk</a>* chunk_new           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>filepath</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>coord_x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int32_t&nbsp;</td>
          <td class="paramname"> <em>coord_z</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> from a file. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>filepath</em>&nbsp;</td><td>The path to a <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a> </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_x</em>&nbsp;</td><td>The X coordinate of this <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>coord_z</em>&nbsp;</td><td>The Z coordinate of this <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>A pointer to the new <a class="el" href="structchunk.html" title="Contains data about a chunk.">chunk</a>, or NULL on error. </dd></dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Sep 8 12:28:22 2010 for minemap by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
